{% extends 'base.html' %}
{% set body_class = 'bg login' %}

{% block content %}
<div class="login-page">
  <div class="login-container">
    <h1 class="login-title">VOLUNTEER MANAGEMENT SYSTEM</h1>

    <div class="login-card">
      {# Loggedâ€‘out view: show message and button to return to login page #}
      {% if page == 'logout' %}
        <h2 class="logout-title" style="text-align:center; font-weight:900; font-size:24px; color: black; margin-bottom:12px;">
          YOU HAVE BEEN LOGGED OUT!
        </h2>
        <p class="logout-message" style="text-align:center; font-weight:600; font-size:18px; color: black; margin-bottom:24px;">
          THANK YOU FOR USING OUR SERVICES.
        </p>
        <div class="login-actions" style="justify-content:center;">
          <a href="{{ url_for('boundary.home') }}" class="login-btn" style="display:inline-block; width:200px; text-align:center; text-decoration:none;">
            LOG BACK IN
          </a>
        </div>
      {% else %}
        {# Login view: replicate the original login form #}
        <form method="post" action="{{ url_for('boundary.login') }}" class="login-form">
          <label class="login-label">YOUR ROLE</label>
          <div class="login-input-wrap">
            <select name="role" class="login-input">
              <option value="" disabled selected>Select Your Role</option>
              {% if profiles %}
                {% for p in profiles %}
                  <option value="{{ p.name }}">{{ p.name }}</option>
                {% endfor %}
              {% else %}
                <option>User Admin</option>
                <option>CSR Representative</option>
                <option>Person in Need</option>
                <option>Platform Manager</option>
              {% endif %}
            </select>
          </div>

          <label class="login-label">USERNAME</label>
          <div class="login-input-wrap">
            <input name="username" class="login-input" placeholder="Enter your username">
          </div>

          <label class="login-label">PASSWORD</label>
          <div class="login-input-wrap">
            <input type="password" name="password" class="login-input" placeholder="Enter your password">
          </div>

          <button class="login-btn" type="submit">LOGIN</button>
          {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="mt-3">
              {% for m in messages %}
                <div class="alert alert-danger" role="alert">{{ m }}</div>
              {% endfor %}
            </div>
          {% endif %}
          {% endwith %}
        </form>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}